<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- ê³¡ ì‹ ê³  ëª¨ë‹¬ -->
<th:block th:fragment="reportModal">
<div id="reportModal" class="modal report-modal">
    <div class="modal-content report-modal-content">
        <div class="modal-header">
            <h3>ê³¡ ì‹ ê³ </h3>
            <button class="close-btn" onclick="closeReportModal()">&times;</button>
        </div>
        <div class="modal-body">
            <p class="report-guide">ë¬¸ì œ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>
            <div class="report-options">
                <button class="report-option" onclick="selectReportOption(this, 'AD')">
                    <span class="option-icon">ğŸ“º</span>
                    <span class="option-text">ê´‘ê³  ìˆìŒ</span>
                    <span class="option-desc">ì˜ìƒì— ê´‘ê³ ê°€ ì¬ìƒë©ë‹ˆë‹¤</span>
                </button>
                <button class="report-option" onclick="selectReportOption(this, 'UNPLAYABLE')">
                    <span class="option-icon">ğŸš«</span>
                    <span class="option-text">ì¬ìƒ ë¶ˆê°€</span>
                    <span class="option-desc">ì˜ìƒì´ ì‚­ì œë˜ì—ˆê±°ë‚˜ ì¬ìƒë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</span>
                </button>
                <button class="report-option other" onclick="document.getElementById('reportDescription').focus()">
                    <span class="option-icon">â“</span>
                    <span class="option-text">ê¸°íƒ€</span>
                    <span class="option-desc">ì•„ë˜ì— ìƒì„¸ ë‚´ìš©ì„ ì‘ì„±í•´ì£¼ì„¸ìš”</span>
                </button>
            </div>
            <div class="report-description-wrap">
                <textarea id="reportDescription"
                          placeholder="ìƒì„¸ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (ê¸°íƒ€ ì„ íƒ ì‹œ í•„ìˆ˜)"
                          maxlength="500"
                          rows="3"></textarea>
                <button class="btn btn-submit-other" onclick="submitReport('OTHER')">ê¸°íƒ€ ì‹ ê³  ì œì¶œ</button>
            </div>
        </div>
    </div>
</div>

<style>
.report-modal .modal-content {
    max-width: 400px;
}

.report-modal .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #eee;
}

.report-modal .modal-header h3 {
    margin: 0;
    font-size: 1.2em;
}

.report-modal .close-btn {
    background: none;
    border: none;
    font-size: 1.5em;
    cursor: pointer;
    color: #888;
}

.report-modal .modal-body {
    padding: 20px;
}

.report-guide {
    text-align: center;
    color: #666;
    margin-bottom: 16px;
}

.report-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 16px;
}

.report-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    background: #fff;
    cursor: pointer;
    transition: all 0.2s;
}

.report-option:hover {
    border-color: #007bff;
    background: #f8f9ff;
}

.report-option.selected {
    border-color: #007bff;
    background: #e7f0ff;
}

.report-option .option-icon {
    font-size: 1.8em;
    margin-bottom: 6px;
}

.report-option .option-text {
    font-weight: 600;
    font-size: 1em;
    margin-bottom: 4px;
}

.report-option .option-desc {
    font-size: 0.8em;
    color: #888;
}

.report-option.other {
    background: #f8f8f8;
}

.report-description-wrap {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.report-description-wrap textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    resize: none;
    font-size: 0.95em;
}

.report-description-wrap textarea:focus {
    outline: none;
    border-color: #007bff;
}

.btn-submit-other {
    padding: 10px 16px;
    background: #6c757d;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.95em;
}

.btn-submit-other:hover {
    background: #5a6268;
}
</style>

<script th:src="@{/js/client/song-report.js}"></script>
</th:block>
</html>
