<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="sidebar">
    <!-- 모바일 햄버거 버튼 -->
    <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
        <span class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </span>
    </button>

    <!-- 모바일 오버레이 -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileMenu()"></div>

    <aside class="sidebar" id="sidebar">
        <!-- 모바일 닫기 버튼 -->
        <button class="mobile-close-btn" onclick="closeMobileMenu()">&times;</button>

        <div class="sidebar-header">
            <h2>🎵 Song Quiz</h2>
            <span>관리자</span>
        </div>
        <nav class="sidebar-nav">
            <a href="/admin/content" class="nav-item" th:classappend="${menu == 'content' or menu == 'song' or menu == 'answer' or menu == 'genre' or menu == 'song-popularity' or menu == 'report'} ? 'active'">
                <span class="nav-icon">📁</span>
                <span class="nav-text">콘텐츠 관리</span>
            </a>
            <a href="/admin/game" class="nav-item" th:classappend="${menu == 'game' or menu == 'history' or menu == 'multi' or menu == 'challenge' or menu == 'room' or menu == 'chat' or menu == 'fan-challenge' or menu == 'genre-challenge'} ? 'active'">
                <span class="nav-icon">🎮</span>
                <span class="nav-text">게임 관리</span>
            </a>
            <a href="/admin/member" class="nav-item" th:classappend="${menu == 'member' or menu == 'login-history' or menu == 'badword'} ? 'active'">
                <span class="nav-icon">👥</span>
                <span class="nav-text">회원 관리</span>
            </a>
            <a href="/admin/ranking" class="nav-item" th:classappend="${menu == 'ranking'} ? 'active'">
                <span class="nav-icon">🏆</span>
                <span class="nav-text">랭킹 관리</span>
            </a>
            <a href="/admin/stats" class="nav-item" th:classappend="${menu == 'stats'} ? 'active'">
                <span class="nav-icon">📈</span>
                <span class="nav-text">통계 분석</span>
            </a>
            <a href="/admin/system" class="nav-item" th:classappend="${menu == 'system' or menu == 'batch' or menu == 'batch-affected' or menu == 'menu'} ? 'active'">
                <span class="nav-icon">⚙️</span>
                <span class="nav-text">시스템 설정</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <button class="theme-toggle-btn" onclick="toggleTheme()" aria-label="테마 전환" title="테마 전환">
                <span class="theme-icon sun">☀️</span>
                <span class="theme-icon moon">🌙</span>
                <span class="nav-text">테마</span>
            </button>
            <a href="/" class="home-btn">
                <span class="nav-icon">🏠</span>
                <span class="nav-text">홈으로</span>
            </a>
            <a href="/admin/logout" class="logout-btn">
                <span class="nav-icon">🚪</span>
                <span class="nav-text">로그아웃</span>
            </a>
        </div>

        <!-- 토글 버튼 -->
        <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
            <span class="toggle-icon">◀</span>
        </button>
    </aside>

    <script th:src="@{/js/admin/admin-sidebar.js}"></script>
</th:block>
</html>
