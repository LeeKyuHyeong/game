<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="sidebar">
    <!-- 모바일 햄버거 버튼 -->
    <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
        <span class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </span>
    </button>

    <!-- 모바일 오버레이 -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeMobileMenu()"></div>

    <aside class="sidebar" id="sidebar">
        <!-- 모바일 닫기 버튼 -->
        <button class="mobile-close-btn" onclick="closeMobileMenu()">&times;</button>

        <div class="sidebar-header">
            <h2>🎵 Song Quiz</h2>
            <span>관리자</span>
        </div>
        <nav class="sidebar-nav">
            <a href="/admin/song" class="nav-item" th:classappend="${menu == 'song'} ? 'active'">
                <span class="nav-icon">🎶</span>
                <span class="nav-text">노래 관리</span>
            </a>
            <a href="/admin/report" class="nav-item" th:classappend="${menu == 'report'} ? 'active'">
                <span class="nav-icon">🚨</span>
                <span class="nav-text">곡 신고</span>
            </a>
            <a href="/admin/answer" class="nav-item" th:classappend="${menu == 'answer'} ? 'active'">
                <span class="nav-icon">🎯</span>
                <span class="nav-text">정답 관리</span>
            </a>
            <a href="/admin/genre" class="nav-item" th:classappend="${menu == 'genre'} ? 'active'">
                <span class="nav-icon">🏷️</span>
                <span class="nav-text">장르 관리</span>
            </a>
            <a href="/admin/room" class="nav-item" th:classappend="${menu == 'room'} ? 'active'">
                <span class="nav-icon">🚪</span>
                <span class="nav-text">방 관리</span>
            </a>
            <a href="/admin/chat" class="nav-item" th:classappend="${menu == 'chat'} ? 'active'">
                <span class="nav-icon">💬</span>
                <span class="nav-text">채팅 내역</span>
            </a>
            <a href="/admin/badword" class="nav-item" th:classappend="${menu == 'badword'} ? 'active'">
                <span class="nav-icon">🚫</span>
                <span class="nav-text">비속어 필터</span>
            </a>
            <a href="/admin/member" class="nav-item" th:classappend="${menu == 'member'} ? 'active'">
                <span class="nav-icon">👥</span>
                <span class="nav-text">회원 관리</span>
            </a>
            <a href="/admin/history" class="nav-item" th:classappend="${menu == 'history'} ? 'active'">
                <span class="nav-icon">📊</span>
                <span class="nav-text">게임 이력</span>
            </a>
            <a href="/admin/history/ranking" class="nav-item" th:classappend="${menu == 'ranking'} ? 'active'">
                <span class="nav-icon">🏆</span>
                <span class="nav-text">랭킹</span>
            </a>
            <a href="/admin/fan-challenge" class="nav-item" th:classappend="${menu == 'fan-challenge'} ? 'active'">
                <span class="nav-icon">🎤</span>
                <span class="nav-text">팬 챌린지</span>
            </a>
            <a href="/admin/stats/wrong-answers" class="nav-item" th:classappend="${menu == 'wrong-stats'} ? 'active'">
                <span class="nav-icon">❌</span>
                <span class="nav-text">오답 통계</span>
            </a>
            <a href="/admin/login-history" class="nav-item" th:classappend="${menu == 'login-history'} ? 'active'">
                <span class="nav-icon">🔐</span>
                <span class="nav-text">로그인 이력</span>
            </a>
            <a href="/admin/batch" class="nav-item" th:classappend="${menu == 'batch'} ? 'active'">
                <span class="nav-icon">⚙️</span>
                <span class="nav-text">배치 관리</span>
            </a>
            <a href="/admin/menu" class="nav-item" th:classappend="${menu == 'menu'} ? 'active'">
                <span class="nav-icon">📋</span>
                <span class="nav-text">메뉴 관리</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <button class="theme-toggle-btn" onclick="toggleTheme()" aria-label="테마 전환" title="테마 전환">
                <span class="theme-icon sun">☀️</span>
                <span class="theme-icon moon">🌙</span>
                <span class="nav-text">테마</span>
            </button>
            <a href="/" class="home-btn">
                <span class="nav-icon">🏠</span>
                <span class="nav-text">홈으로</span>
            </a>
            <a href="/admin/logout" class="logout-btn">
                <span class="nav-icon">🚪</span>
                <span class="nav-text">로그아웃</span>
            </a>
        </div>

        <!-- 토글 버튼 -->
        <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
            <span class="toggle-icon">◀</span>
        </button>
    </aside>

    <script th:src="@{/js/admin/admin-sidebar.js}"></script>
</th:block>
</html>
