<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="sidebar">
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ğŸµ Song Quiz</h2>
            <span>ê´€ë¦¬ì</span>
        </div>
        <nav class="sidebar-nav">
            <a href="/admin/song" class="nav-item" th:classappend="${menu == 'song'} ? 'active'">
                <span class="nav-icon">ğŸ¶</span>
                <span class="nav-text">ë…¸ë˜ ê´€ë¦¬</span>
            </a>
            <a href="/admin/answer" class="nav-item" th:classappend="${menu == 'answer'} ? 'active'">
                <span class="nav-icon">ğŸ¯</span>
                <span class="nav-text">ì •ë‹µ ê´€ë¦¬</span>
            </a>
            <a href="/admin/genre" class="nav-item" th:classappend="${menu == 'genre'} ? 'active'">
                <span class="nav-icon">ğŸ·ï¸</span>
                <span class="nav-text">ì¥ë¥´ ê´€ë¦¬</span>
            </a>
            <a href="/admin/room" class="nav-item" th:classappend="${menu == 'room'} ? 'active'">
                <span class="nav-icon">ğŸšª</span>
                <span class="nav-text">ë°© ê´€ë¦¬</span>
            </a>
            <a href="/admin/chat" class="nav-item" th:classappend="${menu == 'chat'} ? 'active'">
                <span class="nav-icon">ğŸ’¬</span>
                <span class="nav-text">ì±„íŒ… ë‚´ì—­</span>
            </a>
            <a href="/admin/badword" class="nav-item" th:classappend="${menu == 'badword'} ? 'active'">
                <span class="nav-icon">ğŸš«</span>
                <span class="nav-text">ë¹„ì†ì–´ í•„í„°</span>
            </a>
            <a href="/admin/history" class="nav-item" th:classappend="${menu == 'history'} ? 'active'">
                <span class="nav-icon">ğŸ“Š</span>
                <span class="nav-text">ê²Œì„ ì´ë ¥</span>
            </a>
            <a href="/admin/history/ranking" class="nav-item" th:classappend="${menu == 'ranking'} ? 'active'">
                <span class="nav-icon">ğŸ†</span>
                <span class="nav-text">ë­í‚¹</span>
            </a>
            <a href="/admin/login-history" class="nav-item" th:classappend="${menu == 'login-history'} ? 'active'">
                <span class="nav-icon">ğŸ”</span>
                <span class="nav-text">ë¡œê·¸ì¸ ì´ë ¥</span>
            </a>
            <a href="/admin/batch" class="nav-item" th:classappend="${menu == 'batch'} ? 'active'">
                <span class="nav-icon">âš™ï¸</span>
                <span class="nav-text">ë°°ì¹˜ ê´€ë¦¬</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <a href="/" class="home-btn">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-text">í™ˆìœ¼ë¡œ</span>
            </a>
            <a href="/admin/logout" class="logout-btn">
                <span class="nav-icon">ğŸšª</span>
                <span class="nav-text">ë¡œê·¸ì•„ì›ƒ</span>
            </a>
        </div>

        <!-- í† ê¸€ ë²„íŠ¼ -->
        <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
            <span class="toggle-icon">â—€</span>
        </button>
    </aside>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ìƒíƒœ ë³µì›
        document.addEventListener('DOMContentLoaded', function() {
            const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            if (isCollapsed) {
                document.getElementById('sidebar').classList.add('collapsed');
                document.querySelector('.main-content').classList.add('expanded');
            }
        });

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.querySelector('.main-content');

            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');

            // ìƒíƒœ ì €ì¥
            const isCollapsed = sidebar.classList.contains('collapsed');
            localStorage.setItem('sidebarCollapsed', isCollapsed);
        }
    </script>
</th:block>
</html>