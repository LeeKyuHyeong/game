<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common/fragments/head :: clientHead('Song Quiz - 노래 맞추기 게임')}"></head>
<body class="client-page">
<div class="client-container">
    <header class="client-header">
        <div class="header-top">
            <div class="user-info" id="userInfo">
                <!-- JS에서 로그인 상태에 따라 표시 -->
            </div>
        </div>
        <h1>🎵 Song Quiz</h1>
        <p>노래를 듣고 제목을 맞춰보세요!</p>
    </header>

    <main class="client-main">
        <div class="home-content">
            <div class="game-modes">
                <div class="mode-card">
                    <div class="mode-icon">🎤</div>
                    <h2>솔로 게임</h2>
                    <p>혼자서 노래 맞추기에 도전!</p>
                    <div class="mode-options">
                        <a href="/game/solo/host" class="btn btn-mode">게임 진행용</a>
                        <button type="button" class="btn btn-mode primary" onclick="handleGuessClick()">내가 맞추기</button>
                    </div>
                </div>

                <div class="mode-card">
                    <div class="mode-icon">👥</div>
                    <h2>멀티 게임</h2>
                    <p>친구들과 함께 대결!</p>
                    <div class="mode-options">
                        <a href="/game/multi" class="btn btn-mode primary">멀티게임 로비</a>
                    </div>
                </div>
            </div>

            <!-- 랭킹 섹션 (로그인 사용자용) -->
            <div class="ranking-section" id="rankingSection" style="display:none;">
                <div class="ranking-header" id="rankingHeader">
                    <h3>🏆 랭킹</h3>
                    <span class="ranking-toggle">▼</span>
                </div>
                <div class="ranking-body" id="rankingBody">
                    <div class="ranking-tabs">
                        <button class="ranking-tab active" data-type="score">총점</button>
                        <button class="ranking-tab" data-type="accuracy">정답률</button>
                        <button class="ranking-tab" data-type="games">게임수</button>
                    </div>
                    <div class="ranking-list" id="rankingList">
                        <!-- JS에서 로딩 -->
                    </div>
                    <a href="/ranking" class="view-all-link">전체 랭킹 보기 →</a>
                </div>
            </div>
        </div>
    </main>

    <footer class="client-footer">
        <div class="footer-links">
            <a href="/board" class="footer-link">커뮤니티</a>
            <a href="/stats" class="footer-link">통계</a>
            <a href="/ranking" class="footer-link">랭킹</a>
        </div>
        <a href="/admin/login" class="admin-link">관리자</a>
    </footer>
</div>

<!-- 로그인 안내 모달 -->
<div class="login-prompt-modal" id="loginPromptModal">
    <div class="modal-overlay" onclick="closeLoginPrompt()"></div>
    <div class="modal-content">
        <div class="modal-icon">🎵</div>
        <h3>로그인하면 더 재미있어요!</h3>
        <p>회원으로 플레이하면 랭킹에 기록되고,<br>티어 승급의 재미를 느낄 수 있어요.</p>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="proceedWithoutLogin()">그냥 할래요</button>
            <a href="/auth/login?redirect=/game/solo/guess" class="btn btn-primary">로그인하기</a>
        </div>
    </div>
</div>

<script th:src="@{/js/common/common.js}"></script>
<script th:src="@{/js/client/home.js}"></script>
</body>
</html>
